!function(e,i){"use strict";function n(){var e=Array.prototype.slice.call(arguments);if("object"==typeof e[0])for(var t in e[0])this[t]=e[0][t]}function t(e,t){var a=this;this.element=e,this.$element=i(e),this.type=a.$element.data("type")||"rgb",this.defaultValue=a.$element.data("defaultValue")||"",this.$element.wpColorPicker({change:function(e,i){a.$element.trigger("colorpickerChange",[i.color.toString()])},clear:function(){a.$element.trigger("colorpickerClear")},palettes:!0,mode:"hsv",width:220,hide:!0}),this.colorPicker=this.$element.data("wp-wpColorPicker"),this.colorPicker.alpha=!0,this.colorPicker.alphaOptions={},this.toggler=this.colorPicker.toggler.css("background-color",this.colorPicker.options.color),this.colorPicker.options.color=this._convertHexToAlpha(this.colorPicker.options.color),this.colorPicker.active=!1,this._createAlphaPicker()}n.prototype={_createAlphaPicker:function(){var e=this;this.alphaSlider=i("<div>",{class:"alpha-slider"}).slider({orientation:"horizontal",value:100,range:"max",step:1,slide:function(t,a){e._alphaSliderChange(t,a)},change:function(t,a){e._alphaSliderChange(t,a)}}),this.alphaSliderHandle=this.alphaSlider.find(".ui-slider-handle"),this.alphaSliderInner=this.alphaSlider.find(".ui-slider-range"),this.alphaSliderInner.css("background-color",this.colorPicker.options.color),this.colorPicker.picker.find(".iris-picker-inner").append(this.alphaSlider)},_alphaSliderChange:function(e,t){var a=Math.round(100*t.value)/100,n=this._getColorPickerColor(),o=this._alphaToHex(a);this.colorPicker.options.color=n+o,this.toggler.css("background-color",this._convertAlphaToHex(n+o)),this.$element.val(n+o).trigger("change")},_getColorPickerColor:function(){var e=this.colorPicker.color.toString();return e=e.replace("#",""),e=e.substring(0,6)},_alphaToHex:function(e){return e=parseInt(255*e/100,10),e=e.toString(16),e.length<2&&(e="0"+e),e},_convertHexToAlpha:function(e){var t=this;return e=e.replace("#",""),8===e.length?(this.alphaSlider.slider("value",parseInt(e.substring(6,8),16)/255*100),e="#"+(t._getColorPickerColor()+t._alphaToHex(parseInt(e.substring(6,8),16)/255*100))):(this.alphaSlider.slider("value",100),e)},_convertAlphaToHex:function(e){return e=e.replace("#",""),8===e.length?e:"undefined"!=typeof this.defaultValue&&""!==this.defaultValue&&6===this.defaultValue.replace("#","").length?this.defaultValue+"ff":e+"ff"}},i.fn.wpColorPickerAlpha=function(t){var a=this;return this.each(function(){var o=e(this),r=o.data("wpColorPickerAlpha");r||(r=new n({element:this}),o.data("wpColorPickerAlpha",r))}),a}}(window,jQuery);